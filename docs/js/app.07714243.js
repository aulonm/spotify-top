(function(t){function e(e){for(var n,o,s=e[0],c=e[1],l=e[2],f=0,m=[];f<s.length;f++)o=s[f],r[o]&&m.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/spotify-top/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=a("bb71");a("da64");n["a"].use(r["a"],{iconfont:"md"});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VApp",[a("VToolbar",{attrs:{app:""}},[a("VToolbarTitle",{staticClass:"headline text-uppercase"},[a("span",[t._v("SPOTIFY TOP INFORMATION")])]),a("VSpacer"),a("VBtn",{attrs:{flat:""},on:{click:t.tracksLink}},[a("span",{staticClass:"mr-2"},[t._v("\n        Tracks\n      ")])]),a("VBtn",{attrs:{flat:""},on:{click:t.artistsLink}},[a("span",{staticClass:"mr-2"},[t._v("\n        Artists\n      ")])])],1),a("VContent",[a("RouterView")],1)],1)},o=[],s=a("795b"),c=a.n(s),l=(a("28a5"),a("ac6a"),a("f3e2"),a("bc3a")),u=a.n(l),f={get apiUrl(){return"https://aulonm.github.io/spotify-top/"}},m=a("8c4f"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VContainer",{attrs:{fluid:""}},[a("h1",[t._v("Welcome to your top listening tracks and artists on Spotify")]),a("span",[t._v("On the top right corner you can find links to the artists page or tracks page.")])])},d=[],T={name:"Home"},h=T,v=a("2877"),V=a("6544"),_=a.n(V),g=a("a523"),b=Object(v["a"])(h,p,d,!1,null,null,null);b.options.__file="Home.vue";var k=b.exports;_()(b,{VContainer:g["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VLayout",{attrs:{row:""}},[a("VFlex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[a("VCard",[a("VToolbar",{attrs:{dark:""}},[a("VToolbarTitle",[t._v("Top artists")])],1),a("FilterSettings",{attrs:{"click-function":t.getArtists,limit:t.limit,offset:t.offset,ranges:t.ranges,"time-range":t.timeRange}}),a("VList",t._l(t.dataTopArtists.items,function(e,n){return a("VListTile",{key:e.id,attrs:{avatar:""}},[a("VListTileAction",[a("span",[t._v(t._s(n+1))])]),a("VListTileContent",[a("VListTileTitle",{domProps:{textContent:t._s(e.name)}})],1),a("VListTileAvatar",[a("img",{attrs:{src:e.images[2].url}})])],1)}),1)],1)],1)],1)},S=[],y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VExpansionPanel",[a("VExpansionPanelContent",{key:1},[a("div",{attrs:{slot:"header"},slot:"header"},[t._v("\n      Filter\n    ")]),a("VForm",{ref:"settings"},[a("VCard",[a("VContainer",[a("VLayout",{attrs:{row:"",wrap:""}},[a("VFlex",{attrs:{lg2:"",md2:"",sm2:"",xs2:""}},[a("VTextField",{attrs:{label:"limit:",placeholder:"max 50",type:"tel"},model:{value:t.dataLimit,callback:function(e){t.dataLimit=e},expression:"dataLimit"}})],1),a("VSpacer"),a("VSelect",{attrs:{items:t.ranges,label:"Time range","item-text":"name","item-value":"value",clearable:""},model:{value:t.dataTimeRange,callback:function(e){t.dataTimeRange=e},expression:"dataTimeRange"}}),a("VSpacer"),a("VFlex",{attrs:{lg2:"",md2:"",sm2:"",xs2:""}},[a("VTextField",{attrs:{label:"offset:",offset:"0",type:"tel"},model:{value:t.dataOffset,callback:function(e){t.dataOffset=e},expression:"dataOffset"}})],1)],1),a("VCardActions",[a("VSpacer"),a("VBtn",{on:{click:function(e){t.clickFunction(t.dataLimit,t.dataOffset,t.dataTimeRange)}}},[t._v("\n              Filter\n            ")]),a("VSpacer")],1)],1)],1)],1)],1)],1)},L=[],x=(a("c5f6"),{name:"FilterSettings",props:{clickFunction:{type:Function,required:!0},limit:{type:Number,required:!0},offset:{type:Number,required:!0},ranges:{type:Array,required:!0},timeRange:{type:String,required:!0}},data:function(){return{dataLimit:this.limit,dataOffset:this.offset,dataTimeRange:this.timeRange}}}),O=x,C=a("8336"),R=a("b0af"),F=a("99d9"),w=a("cd55"),E=a("49e2"),P=a("0e8f"),j=a("4bd4"),$=a("a722"),I=a("b56d"),G=a("9910"),B=a("2677"),q=Object(v["a"])(O,y,L,!1,null,null,null);q.options.__file="FilterSettings.vue";var K=q.exports;_()(q,{VBtn:C["a"],VCard:R["a"],VCardActions:F["a"],VContainer:g["a"],VExpansionPanel:w["a"],VExpansionPanelContent:E["a"],VFlex:P["a"],VForm:j["a"],VLayout:$["a"],VSelect:I["a"],VSpacer:G["a"],VTextField:B["a"]});var M={name:"Artists",components:{FilterSettings:K},data:function(){return{limit:20,offset:0,timeRange:"medium_term",ranges:[{value:"short_term",name:"4 weeks"},{value:"medium_term",name:"6 months"},{value:"long_term",name:"Years"}],dataTopArtists:this.$store.state.topArtists}},methods:{getArtists:function(t,e,a){var n=this;this.$store.dispatch("GET_TOP_ARTISTS",{limit:t,offset:e,timeRange:a}).then(function(t){n.dataTopArtists=t.topArtists})}}},N=M,z=(a("d686"),a("8860")),D=a("ba95"),Y=a("40fe"),H=a("c954"),J=a("5d23"),U=a("71d9"),W=a("2a7f"),Q=Object(v["a"])(N,A,S,!1,null,"3fb535ae",null);Q.options.__file="Artists.vue";var X=Q.exports;_()(Q,{VCard:R["a"],VFlex:P["a"],VLayout:$["a"],VList:z["a"],VListTile:D["a"],VListTileAction:Y["a"],VListTileAvatar:H["a"],VListTileContent:J["a"],VListTileTitle:J["b"],VToolbar:U["a"],VToolbarTitle:W["a"]});var Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("VLayout",{attrs:{row:""}},[a("VFlex",{attrs:{xs12:"",sm8:"","offset-sm2":""}},[a("VCard",[a("VToolbar",{attrs:{dark:""}},[a("VToolbarTitle",[t._v("Top tracks")])],1),a("FilterSettings",{attrs:{"click-function":t.getTrack,limit:t.limit,offset:t.offset,ranges:t.ranges,"time-range":t.timeRange}}),a("VList",t._l(t.dataTopTracks.items,function(e,n){return a("VListTile",{key:e.id,attrs:{avatar:""}},[a("VListTileAction",[a("span",[t._v(t._s(n+1))])]),a("VListTileContent",[a("VListTileTitle",{domProps:{textContent:t._s(t.compileArtistTracks(e))}})],1),a("VListTileAvatar",[a("img",{attrs:{src:e.album.images[2].url}})])],1)}),1)],1)],1)],1)},tt=[],et=(a("7f7f"),{name:"Tracks",components:{FilterSettings:K},data:function(){return{limit:20,offset:0,timeRange:"medium_term",ranges:[{value:"short_term",name:"4 weeks"},{value:"medium_term",name:"6 months"},{value:"long_term",name:"Years"}],dataTopTracks:this.$store.state.topTracks}},methods:{compileArtistTracks:function(t){var e="".concat(t.artists[0].name);return t.artists.length>1&&t.artists.forEach(function(t,a){0!==a&&(e="".concat(e,", ").concat(t.name))}),"".concat(e," - ").concat(t.album.name)},getTrack:function(t,e,a){var n=this;this.$store.dispatch("GET_TOP_TRACKS",{limit:t,offset:e,timeRange:a}).then(function(t){n.dataTopTracks=t.topTracks})}}}),at=et,nt=Object(v["a"])(at,Z,tt,!1,null,null,null);nt.options.__file="Tracks.vue";var rt=nt.exports;_()(nt,{VCard:R["a"],VFlex:P["a"],VLayout:$["a"],VList:z["a"],VListTile:D["a"],VListTileAction:Y["a"],VListTileAvatar:H["a"],VListTileContent:J["a"],VListTileTitle:J["b"],VToolbar:U["a"],VToolbarTitle:W["a"]}),n["a"].use(m["a"]);var it=new m["a"]({routes:[{path:"/",name:"home",component:k},{path:"/tracks",name:"tracks",component:rt},{path:"/artists",name:"artists",component:X}]}),ot=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e="864189e74c304594a7116130f8627506",a="https://accounts.spotify.com/authorize",n=f.apiUrl,r=["user-top-read"];!0===t&&(window.location="".concat(a,"?client_id=").concat(e,"&scope=").concat(r.join("%20"),"&response_type=token&redirect_uri=").concat(n)),window.location.hash.substring(2).split("&").forEach(function(t){if(t){var e=t.split("=");localStorage.setItem(e[0],e[1])}}),window.location.hash="",localStorage.access_token?it.push({name:"home"}):window.location="".concat(a,"?client_id=").concat(e,"&scope=").concat(r.join("%20"),"&response_type=token&redirect_uri=").concat(n)},st=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium_term",n="https://api.spotify.com/v1/me/top/tracks?limit=".concat(t,"&offset=").concat(e,"&time_range=").concat(a);return u()({method:"get",url:n,headers:{Authorization:"Bearer ".concat(localStorage.access_token)}}).then(function(t){return c.a.resolve(t.data)}).catch(function(t){return 401===t.response.data.error.status&&ot(!0),c.a.reject(t.response.data.error)})},ct=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium_term",n="https://api.spotify.com/v1/me/top/artists?limit=".concat(t,"&offset=").concat(e,"&time_range=").concat(a);return u()({method:"get",url:n,headers:{Authorization:"Bearer ".concat(localStorage.access_token)}}).then(function(t){return c.a.resolve(t.data)}).catch(function(t){return 401===t.response.data.error.status&&ot(!0),c.a.reject(t.response.data.error)})},lt={name:"App",mounted:function(){ot()},methods:{tracksLink:function(){var t=this;this.$store.dispatch("GET_TOP_TRACKS",{limit:20,offset:0,timeRange:"medium_term"}).then(function(){t.$router.push({path:"/tracks"})})},artistsLink:function(){var t=this;this.$store.dispatch("GET_TOP_ARTISTS",{limit:20,offset:0,timeRange:"medium_term"}).then(function(){t.$router.push({path:"/artists"})})}}},ut=lt,ft=a("7496"),mt=a("549c"),pt=Object(v["a"])(ut,i,o,!1,null,null,null);pt.options.__file="App.vue";var dt=pt.exports;_()(pt,{VApp:ft["a"],VBtn:C["a"],VContent:mt["a"],VSpacer:G["a"],VToolbar:U["a"],VToolbarTitle:W["a"]});var Tt=a("2f62");n["a"].use(Tt["a"]);var ht=!1,vt=new Tt["a"].Store({state:{topTracks:{},topArtists:{},error:{}},debug:ht,mutations:{SET_TOP_TRACKS:function(t,e){var a=e.tracks,n=t;n.topTracks=a},SET_TOP_ARTISTS:function(t,e){var a=e.artists,n=t;n.topArtists=a},GET_FAILED:function(t,e){var a=e.error,n=t;n.error=a}},actions:{GET_TOP_TRACKS:function(t,e){var a=this,n=t.commit,r=e.limit,i=e.offset,o=e.timeRange;return st(r,i,o).then(function(t){return n("SET_TOP_TRACKS",{tracks:t}),c.a.resolve({topTracks:a.state.topTracks})}).catch(function(t){n("GET_FAILED",{error:t})})},GET_TOP_ARTISTS:function(t,e){var a=this,n=t.commit,r=e.limit,i=e.offset,o=e.timeRange;return ct(r,i,o).then(function(t){return n("SET_TOP_ARTISTS",{artists:t}),c.a.resolve({topArtists:a.state.topArtists})}).catch(function(t){n("GET_FAILED",{error:t})})}}});n["a"].config.productionTip=!1,new n["a"]({router:it,store:vt,render:function(t){return t(dt)}}).$mount("#app")},"90b3":function(t,e,a){},d686:function(t,e,a){"use strict";var n=a("90b3"),r=a.n(n);r.a}});
//# sourceMappingURL=app.07714243.js.map